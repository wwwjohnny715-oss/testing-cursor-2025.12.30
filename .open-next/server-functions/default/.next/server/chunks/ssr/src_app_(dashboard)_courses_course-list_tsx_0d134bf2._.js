module.exports=[63485,a=>{"use strict";let b;var c=a.i(87924),d=a.i(72131),e=a.i(50944),f=a.i(38246),g=a.i(15925),h=a.i(99570),i=a.i(66718),j=a.i(86304),k=a.i(6015),l=a.i(14574),m=a.i(50104),n=a.i(70121),o=a.i(97942),p=a.i(7554),q=Symbol("radix.slottable"),r="AlertDialog",[s,t]=(0,m.createContextScope)(r,[o.createDialogScope]),u=(0,o.createDialogScope)(),v=a=>{let{__scopeAlertDialog:b,...d}=a,e=u(b);return(0,c.jsx)(o.Root,{...e,...d,modal:!0})};v.displayName=r,d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=u(d);return(0,c.jsx)(o.Trigger,{...f,...e,ref:b})}).displayName="AlertDialogTrigger";var w=a=>{let{__scopeAlertDialog:b,...d}=a,e=u(b);return(0,c.jsx)(o.Portal,{...e,...d})};w.displayName="AlertDialogPortal";var x=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=u(d);return(0,c.jsx)(o.Overlay,{...f,...e,ref:b})});x.displayName="AlertDialogOverlay";var y="AlertDialogContent",[z,A]=s(y),B=((b=({children:a})=>(0,c.jsx)(c.Fragment,{children:a})).displayName="AlertDialogContent.Slottable",b.__radixId=q,b),C=d.forwardRef((a,b)=>{let{__scopeAlertDialog:e,children:f,...g}=a,h=u(e),i=d.useRef(null),j=(0,n.useComposedRefs)(b,i),k=d.useRef(null);return(0,c.jsx)(o.WarningProvider,{contentName:y,titleName:D,docsSlug:"alert-dialog",children:(0,c.jsx)(z,{scope:e,cancelRef:k,children:(0,c.jsxs)(o.Content,{role:"alertdialog",...h,...g,ref:j,onOpenAutoFocus:(0,p.composeEventHandlers)(g.onOpenAutoFocus,a=>{a.preventDefault(),k.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,c.jsx)(B,{children:f}),(0,c.jsx)(K,{contentRef:i})]})})})});C.displayName=y;var D="AlertDialogTitle",E=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=u(d);return(0,c.jsx)(o.Title,{...f,...e,ref:b})});E.displayName=D;var F="AlertDialogDescription",G=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=u(d);return(0,c.jsx)(o.Description,{...f,...e,ref:b})});G.displayName=F;var H=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=u(d);return(0,c.jsx)(o.Close,{...f,...e,ref:b})});H.displayName="AlertDialogAction";var I="AlertDialogCancel",J=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:f}=A(I,d),g=u(d),h=(0,n.useComposedRefs)(b,f);return(0,c.jsx)(o.Close,{...g,...e,ref:h})});J.displayName=I;var K=({contentRef:a})=>{let b=`\`${y}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${y}\` by passing a \`${F}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${y}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},L=a.i(68114);function M({...a}){return(0,c.jsx)(v,{"data-slot":"alert-dialog",...a})}function N({...a}){return(0,c.jsx)(w,{"data-slot":"alert-dialog-portal",...a})}function O({className:a,...b}){return(0,c.jsx)(x,{"data-slot":"alert-dialog-overlay",className:(0,L.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function P({className:a,...b}){return(0,c.jsxs)(N,{children:[(0,c.jsx)(O,{}),(0,c.jsx)(C,{"data-slot":"alert-dialog-content",className:(0,L.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...b})]})}function Q({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,L.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function R({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,L.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function S({className:a,...b}){return(0,c.jsx)(E,{"data-slot":"alert-dialog-title",className:(0,L.cn)("text-lg font-semibold",a),...b})}function T({className:a,...b}){return(0,c.jsx)(G,{"data-slot":"alert-dialog-description",className:(0,L.cn)("text-muted-foreground text-sm",a),...b})}function U({className:a,...b}){return(0,c.jsx)(H,{className:(0,L.cn)((0,h.buttonVariants)(),a),...b})}function V({className:a,...b}){return(0,c.jsx)(J,{className:(0,L.cn)((0,h.buttonVariants)({variant:"outline"}),a),...b})}var W=a.i(80701),X=a.i(70430),Y=a.i(15055),Z=a.i(15618),$=a.i(99464),_=a.i(81560),aa=a.i(96221),ab=a.i(60246);let ac=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var ad=a.i(62213),ad=ad,ae=a.i(87532),af=a.i(23292),ag=a.i(35785),ah=a.i(56711);function ai(a){if(!a)return[];if(Array.isArray(a))return a;if("string"==typeof a)try{let b=JSON.parse(a);return Array.isArray(b)?b:[]}catch{}return[]}let aj=Array.from({length:24},(a,b)=>b.toString().padStart(2,"0")),ak=["00","15","30","45"];function al(a){if(!a)return{hour:"",minute:""};let[b,c]=a.split(":");return{hour:b||"",minute:c||""}}function am(a,b){return a&&b?`${a}:${b}`:""}function an({courses:a,teachers:b,students:m,isAdmin:n}){let o=(0,e.useRouter)(),p=(0,g.useTranslations)(),[q,r]=(0,d.useState)(!1),[s,t]=(0,d.useState)(!1),[u,v]=(0,d.useState)(!1),[w,x]=(0,d.useState)(!1),[y,z]=(0,d.useState)(null),[A,B]=(0,d.useState)(!1),[C,D]=(0,d.useState)([]),[E,F]=(0,d.useState)(""),G=m.filter(a=>{if(!E)return!0;let b=E.toLowerCase();return a.name.toLowerCase().includes(b)||a.studentCode.toLowerCase().includes(b)||a.grade.toLowerCase().includes(b)}),[H,I]=(0,d.useState)({courseCode:"",teacher_id:"",grades:[],sessions:[{date:"",start_time:"",end_time:""}]}),J=()=>{I({courseCode:"",teacher_id:"",grades:[],sessions:[{date:"",start_time:"",end_time:""}]})},K=a=>{I(b=>({...b,grades:b.grades.includes(a)?b.grades.filter(b=>b!==a):[...b.grades,a]}))},L=()=>{I(a=>({...a,sessions:[...a.sessions,{date:"",start_time:"",end_time:""}]}))},N=a=>{H.sessions.length<=1||I(b=>({...b,sessions:b.sessions.filter((b,c)=>c!==a)}))},O=(a,b,c)=>{I(d=>({...d,sessions:d.sessions.map((d,e)=>e===a?{...d,[b]:c}:d)}))},an=async()=>{if(!H.courseCode||!H.teacher_id||0===H.grades.length||H.sessions.some(a=>!a.date||!a.start_time||!a.end_time))return void af.toast.error(p("common.fillRequired"));B(!0);try{let a=await fetch("/api/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!a.ok){let b=await a.json();throw Error(b.error||p("common.operationFailed"))}af.toast.success(p("courses.createSuccess")),r(!1),J(),o.refresh()}catch(a){af.toast.error(a instanceof Error?a.message:p("common.operationFailed"))}finally{B(!1)}},ao=async()=>{if(y){if(0===H.grades.length||H.sessions.some(a=>!a.date||!a.start_time||!a.end_time))return void af.toast.error(p("common.fillRequired"));B(!0);try{let a=await fetch(`/api/courses/${y.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacher_id:H.teacher_id,grades:H.grades,sessions:H.sessions})});if(!a.ok){let b=await a.json();throw Error(b.error||p("common.operationFailed"))}af.toast.success(p("courses.updateSuccess")),t(!1),z(null),J(),o.refresh()}catch(a){af.toast.error(a instanceof Error?a.message:p("common.operationFailed"))}finally{B(!1)}}},ap=async()=>{if(y){B(!0);try{let a=await fetch(`/api/courses/${y.id}`,{method:"DELETE"});if(!a.ok){let b=await a.json();throw Error(b.error||p("common.operationFailed"))}af.toast.success(p("courses.deleteSuccess")),v(!1),z(null),o.refresh()}catch(a){af.toast.error(a instanceof Error?a.message:p("common.operationFailed"))}finally{B(!1)}}},aq=async()=>{if(!y||0===C.length)return void af.toast.error(p("common.fillRequired"));B(!0);try{let a=await fetch(`/api/courses/${y.id}/enrollments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentIds:C})});if(!a.ok){let b=await a.json();throw Error(b.error||"加入失败")}af.toast.success(p("common.success")),x(!1),z(null),D([]),o.refresh()}catch(a){af.toast.error(a instanceof Error?a.message:"加入失败")}finally{B(!1)}};return(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("div",{className:"flex justify-end",children:n&&(0,c.jsxs)(h.Button,{onClick:()=>r(!0),children:[(0,c.jsx)(Z.Plus,{className:"h-4 w-4 mr-2"}),p("courses.addCourse")]})}),(0,c.jsx)("div",{className:"rounded-lg border border-border bg-card",children:(0,c.jsxs)(k.Table,{children:[(0,c.jsx)(k.TableHeader,{children:(0,c.jsxs)(k.TableRow,{children:[(0,c.jsx)(k.TableHead,{children:p("courses.courseCode")}),(0,c.jsx)(k.TableHead,{children:p("courses.teacher")}),(0,c.jsx)(k.TableHead,{children:p("courses.grades")}),(0,c.jsx)(k.TableHead,{children:p("courses.sessions")}),(0,c.jsx)(k.TableHead,{children:p("courses.studentCount")}),(0,c.jsx)(k.TableHead,{className:"text-right",children:p("common.actions")})]})}),(0,c.jsx)(k.TableBody,{children:0===a.length?(0,c.jsx)(k.TableRow,{children:(0,c.jsx)(k.TableCell,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:p("courses.noCourses")})}):a.map(a=>(0,c.jsxs)(k.TableRow,{className:"group",children:[(0,c.jsx)(k.TableCell,{className:"font-mono",children:a.courseCode}),(0,c.jsx)(k.TableCell,{children:a.teacher.name}),(0,c.jsx)(k.TableCell,{children:(0,c.jsxs)("div",{className:"flex flex-wrap gap-1",children:[ai(a.grades).slice(0,3).map(a=>(0,c.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a},a)),ai(a.grades).length>3&&(0,c.jsxs)(j.Badge,{variant:"outline",className:"text-xs",children:["+",ai(a.grades).length-3]})]})}),(0,c.jsx)(k.TableCell,{children:a.sessions.length}),(0,c.jsx)(k.TableCell,{children:a.studentCount}),(0,c.jsx)(k.TableCell,{className:"text-right",children:(0,c.jsxs)("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(n||a.isOwner)&&(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{z(a),D(a.enrollments.map(a=>a.student.id)),x(!0)},title:p("courses.addStudents"),children:(0,c.jsx)(ab.Users,{className:"h-4 w-4"})}),(0,c.jsx)(f.default,{href:`/courses/${a.id}`,children:(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",title:p("courses.viewDetails"),children:(0,c.jsx)(ac,{className:"h-4 w-4"})})}),(n||a.isOwner)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{z(a),I({courseCode:a.courseCode,teacher_id:a.teacher.id,grades:ai(a.grades),sessions:a.sessions.map(a=>({id:a.id,date:(0,ah.format)(new Date(a.date),"yyyy-MM-dd"),start_time:a.start_time,end_time:a.end_time}))}),t(!0)},title:p("common.edit"),children:(0,c.jsx)($.Pencil,{className:"h-4 w-4"})}),n&&(0,c.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>{z(a),v(!0)},title:p("common.delete"),children:(0,c.jsx)(_.Trash2,{className:"h-4 w-4 text-destructive"})})]})]})})]},a.id))})]})}),(0,c.jsx)(l.Dialog,{open:q,onOpenChange:r,children:(0,c.jsxs)(l.DialogContent,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[(0,c.jsxs)(l.DialogHeader,{className:"flex-shrink-0",children:[(0,c.jsx)(l.DialogTitle,{children:p("courses.addCourse")}),(0,c.jsx)(l.DialogDescription,{children:p("courses.fillInfo")})]}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",style:{maxHeight:"calc(90vh - 180px)"},children:(0,c.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,c.jsxs)("div",{className:"grid gap-2",children:[(0,c.jsxs)(X.Label,{htmlFor:"courseCode",children:[p("courses.courseCode")," *"]}),(0,c.jsx)(i.Input,{id:"courseCode",placeholder:"例如: MATH-S4-002",value:H.courseCode,onChange:a=>I({...H,courseCode:a.target.value})})]}),(0,c.jsxs)("div",{className:"grid gap-2",children:[(0,c.jsxs)(X.Label,{htmlFor:"teacher",children:[p("courses.teacher")," *"]}),(0,c.jsxs)(W.Select,{value:H.teacher_id,onValueChange:a=>I({...H,teacher_id:a}),children:[(0,c.jsx)(W.SelectTrigger,{children:(0,c.jsx)(W.SelectValue,{placeholder:p("courses.selectTeacher")})}),(0,c.jsx)(W.SelectContent,{children:b.map(a=>(0,c.jsxs)(W.SelectItem,{value:a.id,children:[a.name," (",a.teacherCode,")"]},a.id))})]})]}),(0,c.jsxs)("div",{className:"grid gap-2",children:[(0,c.jsxs)(X.Label,{children:[p("courses.grades")," *"]}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2 p-3 border rounded-lg bg-background/50",children:ag.GRADE_OPTIONS.map(a=>(0,c.jsx)(j.Badge,{variant:H.grades.includes(a)?"default":"outline",className:"cursor-pointer",onClick:()=>K(a),children:a},a))})]}),(0,c.jsxs)("div",{className:"grid gap-2",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)(X.Label,{children:"Sessions *"}),(0,c.jsxs)(h.Button,{type:"button",variant:"outline",size:"sm",onClick:L,children:[(0,c.jsx)(Z.Plus,{className:"h-4 w-4 mr-1"}),p("common.add")]})]}),(0,c.jsx)("div",{className:"space-y-3",children:H.sessions.map((a,b)=>(0,c.jsxs)("div",{className:"flex gap-2 items-start p-3 border rounded-lg bg-background/50",children:[(0,c.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(X.Label,{className:"text-xs",children:p("courses.date")}),(0,c.jsx)(i.Input,{type:"date",value:a.date,onChange:a=>O(b,"date",a.target.value)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(X.Label,{className:"text-xs",children:p("courses.startTime")}),(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsxs)(W.Select,{value:al(a.start_time).hour,onValueChange:c=>O(b,"start_time",am(c,al(a.start_time).minute||"00")),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"HH"})}),(0,c.jsx)(W.SelectContent,{children:aj.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]}),(0,c.jsx)("span",{className:"flex items-center",children:":"}),(0,c.jsxs)(W.Select,{value:al(a.start_time).minute,onValueChange:c=>O(b,"start_time",am(al(a.start_time).hour||"00",c)),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"MM"})}),(0,c.jsx)(W.SelectContent,{children:ak.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(X.Label,{className:"text-xs",children:p("courses.endTime")}),(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsxs)(W.Select,{value:al(a.end_time).hour,onValueChange:c=>O(b,"end_time",am(c,al(a.end_time).minute||"00")),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"HH"})}),(0,c.jsx)(W.SelectContent,{children:aj.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]}),(0,c.jsx)("span",{className:"flex items-center",children:":"}),(0,c.jsxs)(W.Select,{value:al(a.end_time).minute,onValueChange:c=>O(b,"end_time",am(al(a.end_time).hour||"00",c)),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"MM"})}),(0,c.jsx)(W.SelectContent,{children:ak.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]})]})]})]}),H.sessions.length>1&&(0,c.jsx)(h.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>N(b),children:(0,c.jsx)(ad.default,{className:"h-4 w-4"})})]},b))})]})]})}),(0,c.jsxs)(l.DialogFooter,{className:"flex-shrink-0 pt-4 border-t",children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:()=>{r(!1),J()},children:p("common.cancel")}),(0,c.jsxs)(h.Button,{onClick:an,disabled:A,children:[A&&(0,c.jsx)(aa.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),p("common.add")]})]})]})}),(0,c.jsx)(l.Dialog,{open:s,onOpenChange:t,children:(0,c.jsxs)(l.DialogContent,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[(0,c.jsxs)(l.DialogHeader,{className:"flex-shrink-0",children:[(0,c.jsx)(l.DialogTitle,{children:p("courses.editCourse")}),(0,c.jsxs)(l.DialogDescription,{children:[p("courses.courseCode"),": ",y?.courseCode]})]}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",style:{maxHeight:"calc(90vh - 180px)"},children:(0,c.jsxs)("div",{className:"grid gap-4 py-4",children:[n&&(0,c.jsxs)("div",{className:"grid gap-2",children:[(0,c.jsxs)(X.Label,{htmlFor:"edit-teacher",children:[p("courses.teacher")," *"]}),(0,c.jsxs)(W.Select,{value:H.teacher_id,onValueChange:a=>I({...H,teacher_id:a}),children:[(0,c.jsx)(W.SelectTrigger,{children:(0,c.jsx)(W.SelectValue,{})}),(0,c.jsx)(W.SelectContent,{children:b.map(a=>(0,c.jsxs)(W.SelectItem,{value:a.id,children:[a.name," (",a.teacherCode,")"]},a.id))})]})]}),(0,c.jsxs)("div",{className:"grid gap-2",children:[(0,c.jsxs)(X.Label,{children:[p("courses.grades")," *"]}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2 p-3 border rounded-lg bg-background/50",children:ag.GRADE_OPTIONS.map(a=>(0,c.jsx)(j.Badge,{variant:H.grades.includes(a)?"default":"outline",className:"cursor-pointer",onClick:()=>K(a),children:a},a))})]}),(0,c.jsxs)("div",{className:"grid gap-2",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)(X.Label,{children:"Sessions *"}),(0,c.jsxs)(h.Button,{type:"button",variant:"outline",size:"sm",onClick:L,children:[(0,c.jsx)(Z.Plus,{className:"h-4 w-4 mr-1"}),p("common.add")]})]}),(0,c.jsx)("div",{className:"space-y-3",children:H.sessions.map((a,b)=>(0,c.jsxs)("div",{className:"flex gap-2 items-start p-3 border rounded-lg bg-background/50",children:[(0,c.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(X.Label,{className:"text-xs",children:p("courses.date")}),(0,c.jsx)(i.Input,{type:"date",value:a.date,onChange:a=>O(b,"date",a.target.value)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(X.Label,{className:"text-xs",children:p("courses.startTime")}),(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsxs)(W.Select,{value:al(a.start_time).hour,onValueChange:c=>O(b,"start_time",am(c,al(a.start_time).minute||"00")),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"HH"})}),(0,c.jsx)(W.SelectContent,{children:aj.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]}),(0,c.jsx)("span",{className:"flex items-center",children:":"}),(0,c.jsxs)(W.Select,{value:al(a.start_time).minute,onValueChange:c=>O(b,"start_time",am(al(a.start_time).hour||"00",c)),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"MM"})}),(0,c.jsx)(W.SelectContent,{children:ak.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(X.Label,{className:"text-xs",children:p("courses.endTime")}),(0,c.jsxs)("div",{className:"flex gap-1",children:[(0,c.jsxs)(W.Select,{value:al(a.end_time).hour,onValueChange:c=>O(b,"end_time",am(c,al(a.end_time).minute||"00")),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"HH"})}),(0,c.jsx)(W.SelectContent,{children:aj.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]}),(0,c.jsx)("span",{className:"flex items-center",children:":"}),(0,c.jsxs)(W.Select,{value:al(a.end_time).minute,onValueChange:c=>O(b,"end_time",am(al(a.end_time).hour||"00",c)),children:[(0,c.jsx)(W.SelectTrigger,{className:"w-[70px]",children:(0,c.jsx)(W.SelectValue,{placeholder:"MM"})}),(0,c.jsx)(W.SelectContent,{children:ak.map(a=>(0,c.jsx)(W.SelectItem,{value:a,children:a},a))})]})]})]})]}),H.sessions.length>1&&(0,c.jsx)(h.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>N(b),children:(0,c.jsx)(ad.default,{className:"h-4 w-4"})})]},b))})]})]})}),(0,c.jsxs)(l.DialogFooter,{className:"flex-shrink-0 pt-4 border-t",children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:()=>{t(!1),z(null),J()},children:p("common.cancel")}),(0,c.jsxs)(h.Button,{onClick:ao,disabled:A,children:[A&&(0,c.jsx)(aa.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),p("common.save")]})]})]})}),(0,c.jsx)(M,{open:u,onOpenChange:v,children:(0,c.jsxs)(P,{children:[(0,c.jsxs)(Q,{children:[(0,c.jsx)(S,{children:p("common.confirmDelete")}),(0,c.jsx)(T,{children:p("courses.deleteConfirm")})]}),(0,c.jsxs)(R,{children:[(0,c.jsx)(V,{children:p("common.cancel")}),(0,c.jsxs)(U,{onClick:ap,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[A&&(0,c.jsx)(aa.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),p("common.delete")]})]})]})}),(0,c.jsx)(l.Dialog,{open:w,onOpenChange:a=>{x(a),a||F("")},children:(0,c.jsxs)(l.DialogContent,{className:"max-w-lg max-h-[80vh] flex flex-col",children:[(0,c.jsxs)(l.DialogHeader,{className:"flex-shrink-0",children:[(0,c.jsx)(l.DialogTitle,{children:p("courses.addStudents")}),(0,c.jsxs)(l.DialogDescription,{children:[p("courses.courseCode"),": ",y?.courseCode]})]}),(0,c.jsxs)("div",{className:"flex-shrink-0 relative",children:[(0,c.jsx)(ae.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,c.jsx)(i.Input,{placeholder:p("students.searchPlaceholder"),value:E,onChange:a=>F(a.target.value),className:"pl-9"})]}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",style:{maxHeight:"calc(80vh - 250px)"},children:(0,c.jsx)("div",{className:"space-y-2",children:0===G.length?(0,c.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:p("students.noStudents")}):G.map(a=>(0,c.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-background/50 hover:bg-muted/50 cursor-pointer",onClick:()=>{D(b=>b.includes(a.id)?b.filter(b=>b!==a.id):[...b,a.id])},children:[(0,c.jsx)(Y.Checkbox,{checked:C.includes(a.id),onCheckedChange:()=>{}}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("p",{className:"font-medium",children:a.name}),(0,c.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.studentCode," · ",a.grade]})]})]},a.id))})}),(0,c.jsxs)(l.DialogFooter,{className:"flex-shrink-0 pt-4 border-t",children:[(0,c.jsx)(h.Button,{variant:"outline",onClick:()=>{x(!1),z(null),D([]),F("")},children:p("common.cancel")}),(0,c.jsxs)(h.Button,{onClick:aq,disabled:A||0===C.length,children:[A&&(0,c.jsx)(aa.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),p("common.save")," (",C.length,")"]})]})]})})]})}a.s(["CourseList",()=>an],63485)}];

//# sourceMappingURL=src_app_%28dashboard%29_courses_course-list_tsx_0d134bf2._.js.map