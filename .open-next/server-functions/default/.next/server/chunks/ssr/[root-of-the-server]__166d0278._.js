module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},70844,a=>{a.n(a.i(92359))},94954,a=>{"use strict";a.s(["StudentList",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call StudentList() from the server but StudentList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/students/student-list.tsx <module evaluation>","StudentList")},54977,a=>{"use strict";a.s(["StudentList",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call StudentList() from the server but StudentList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/(dashboard)/students/student-list.tsx","StudentList")},31836,a=>{"use strict";a.i(94954);var b=a.i(54977);a.n(b)},26035,a=>{"use strict";let b;var c,d,e=a.i(7997),f=a.i(717),g=a.i(9307),h=a.i(66518),i=a.i(31836);let j=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},k=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=(0,f.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:g,iconNode:h,...i},j)=>(0,f.createElement)("svg",{ref:j,...l,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:k("lucide",e),...!g&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(i)&&{"aria-hidden":"true"},...i},[...h.map(([a,b])=>(0,f.createElement)(a,b)),...Array.isArray(g)?g:[g]])),n=(c="loader-circle",d=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],(b=(0,f.forwardRef)(({className:a,...b},e)=>(0,f.createElement)(m,{ref:e,iconNode:d,className:k(`lucide-${j(c).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${c}`,a),...b}))).displayName=j(c),b);async function o(a,b){let c=new Date,d=c.getMonth(),e=c.getFullYear(),f=new Date(e,d,1),g=new Date(e,d+1,0,23,59,59,999),i={is_deleted:!1};return a&&(i.OR=[{name:{contains:a}},{phone:{contains:a}},{studentCode:{contains:a}}]),b&&(i.first_enrolled_at={gte:f,lte:g}),(await h.default.student.findMany({where:i,orderBy:{created_at:"desc"},include:{enrollments:{where:{is_active:!0},include:{course:{select:{courseCode:!0,is_deleted:!0}}}}}})).map(a=>({...a,isNew:!!(a.first_enrolled_at&&a.first_enrolled_at>=f&&a.first_enrolled_at<=g),activeCourses:a.enrollments.filter(a=>!a.course.is_deleted).map(a=>a.course.courseCode)}))}async function p({searchParams:a}){let b=await (0,g.auth)(),c=await a,d=c.search,h="true"===c.newOnly,j=await o(d,h);return(0,e.jsx)("div",{className:"space-y-6",children:(0,e.jsx)(f.Suspense,{fallback:(0,e.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,e.jsx)(n,{className:"h-8 w-8 animate-spin text-primary"})}),children:(0,e.jsx)(i.StudentList,{students:j,isAdmin:b?.user.role==="admin",initialSearch:d,initialNewOnly:h})})})}a.s(["default",()=>p,"dynamic",0,"force-dynamic"],26035)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__166d0278._.js.map